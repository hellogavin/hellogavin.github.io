---
date: 2014-12-22 17:00
layout: post
title: string是引用类型还是值类型
category: why
tags:
  - C#
  - 思考
---
Question： **string**是引用类型还是值类型？

首先说明 **string** 是引用类型，特殊的引用类型。

    class Class1   
    {   
      static void StrChange(string str)   
      {   
        str = "hello";   
      }   
 
      static void Main()   
      {   
        string str = "123";//申明一个字符串   
        StrChange(str);//调用方法   
        Console.WriteLine(str);//输出字符串   
      }   
    }  
    
输出结果："123"
    
C#中string是特殊的引用类型，他的实例是只读的。怎么特殊呢：

 - static void StrChange(string str) 是值传递

 - static void StrChange(ref string str) 是引用传递

对字符串做一些操作（比如大小写转换、+=），实际上是重新创建一个字符串，这也是为什么在做大量字符串拼接时要使用StringBuilder问不是+=。

还有就是string和String有什么区别呢？ **string** 关键字是String的别名，跟object和Object一样。

参考：

1.http://developer.51cto.com/art/200908/147520.htm

2.http://msdn.microsoft.com/zh-cn/library/ms228362.aspx
